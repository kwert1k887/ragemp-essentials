var a=class{static on(r,e){if(typeof r=="string"&&e){console.log(`[Event.on] \u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043E\u0432\u0430\u043D\u043E \u0441\u043E\u0431\u044B\u0442\u0438\u0435: ${r}`),mp.events.add(r,(n,...t)=>{typeof n=="object"&&"name"in n?e(n,...t):e(...t)});return}if(typeof r=="object"&&!Array.isArray(r)){let n=Object.keys(r);if(n.length<=1)throw new Error("\u0415\u0441\u043B\u0438 \u043F\u0435\u0440\u0435\u0434\u0430\u043D \u043E\u0431\u044A\u0435\u043A\u0442, \u043E\u043D \u0434\u043E\u043B\u0436\u0435\u043D \u0441\u043E\u0434\u0435\u0440\u0436\u0430\u0442\u044C \u0431\u043E\u043B\u0435\u0435 \u043E\u0434\u043D\u043E\u0433\u043E \u0441\u043E\u0431\u044B\u0442\u0438\u044F.");n.forEach(t=>{console.log(`[Event.on] \u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043E\u0432\u0430\u043D\u043E \u0441\u043E\u0431\u044B\u0442\u0438\u0435: ${t}`),mp.events.add(t,(i,...l)=>{let m=r[t];typeof i=="object"&&"name"in i?m(i,...l):m(...l)})});return}throw new Error("\u041D\u0435\u0432\u0435\u0440\u043D\u044B\u0439 \u0444\u043E\u0440\u043C\u0430\u0442 \u0434\u0430\u043D\u043D\u044B\u0445. \u041B\u0438\u0431\u043E \u043F\u0435\u0440\u0435\u0434\u0430\u0439\u0442\u0435 \u0441\u0442\u0440\u043E\u043A\u0443 \u0441 \u043E\u0431\u0440\u0430\u0431\u043E\u0442\u0447\u0438\u043A\u043E\u043C, \u043B\u0438\u0431\u043E \u043E\u0431\u044A\u0435\u043A\u0442 \u0441 \u043D\u0435\u0441\u043A\u043E\u043B\u044C\u043A\u0438\u043C\u0438 \u0441\u043E\u0431\u044B\u0442\u0438\u044F\u043C\u0438.")}static off(r,e){mp.events.remove(r,e)}static emit(r,e=[],n={}){n.log===!0&&(typeof mp<"u"&&mp.events?mp&&mp.console?mp.console.logInfo(`[Event.emit] \u0412\u044B\u0437\u043E\u0432 \u0441\u043E\u0431\u044B\u0442\u0438\u044F "${r}" \u0441 \u0430\u0440\u0433\u0443\u043C\u0435\u043D\u0442\u0430\u043C\u0438: ${e}`):console.log(`[Event.emit] \u0412\u044B\u0437\u043E\u0432 \u0441\u043E\u0431\u044B\u0442\u0438\u044F "${r}" \u0441 \u0430\u0440\u0433\u0443\u043C\u0435\u043D\u0442\u0430\u043C\u0438: ${e}`):console.log("[Event.emit] \u041D\u0435 \u0443\u0434\u0430\u043B\u043E\u0441\u044C \u043B\u043E\u0433\u0438\u0440\u043E\u0432\u0430\u0442\u044C \u0441\u043E\u0431\u044B\u0442\u0438\u0435, \u043E\u043A\u0440\u0443\u0436\u0435\u043D\u0438\u0435 \u043D\u0435 \u043E\u043F\u0440\u0435\u0434\u0435\u043B\u0435\u043D\u043E")),typeof mp<"u"&&mp.events?typeof mp.events.callRemote=="function"?mp.events.callRemote(r,...e):typeof mp.events.call=="function"?mp.events.call(r,...e):mp.console.logError(`[Event.emit] \u041D\u0435 \u0443\u0434\u0430\u043B\u043E\u0441\u044C \u0432\u044B\u0437\u0432\u0430\u0442\u044C \u0441\u043E\u0431\u044B\u0442\u0438\u0435 "${r}": mp.events.call \u0438\u043B\u0438 callRemote \u043D\u0435 \u043E\u043F\u0440\u0435\u0434\u0435\u043B\u0435\u043D\u044B`):mp.console.logError(`[Event.emit] \u041D\u0435 \u0443\u0434\u0430\u043B\u043E\u0441\u044C \u0432\u044B\u0437\u0432\u0430\u0442\u044C \u0441\u043E\u0431\u044B\u0442\u0438\u0435 "${r}": mp \u043D\u0435 \u043E\u043F\u0440\u0435\u0434\u0435\u043B\u0451\u043D`)}};var c=class o{static create(r,e,n){try{return Array.isArray(e)?e.map(t=>o.createSingle(r,t,n)):o.createSingle(r,e,n)}catch(t){return console.error("[Blip.create] \u041E\u0448\u0438\u0431\u043A\u0430 \u043F\u0440\u0438 \u0441\u043E\u0437\u0434\u0430\u043D\u0438\u0438 \u043C\u0435\u0442\u043A\u0438:",t),null}}static createSingle(r,e,n={}){let t=mp.blips.new(r,new mp.Vector3(e.x,e.y,e.z),{name:n.name??"",scale:n.scale??1,color:n.color??0,alpha:n.alpha??255,drawDistance:n.drawDistance??100,shortRange:n.shortRange??!1,rotation:n.rotation??0,dimension:n.dimension??0});return n.animation&&o.applyAnimation(t,n.animation),t}static applyAnimation(r,e){e.type==="blink"&&o.blinkAnimation(r,e.blinkDuration)}static blinkAnimation(r,e){let n=Date.now();setInterval(()=>{let t=Date.now()-n,i=t%e/e,l=255*(.5+.5*Math.sin(i*Math.PI*2));r.alpha=Math.max(50,Math.min(l,255)),t>=e&&(n=Date.now())},16)}};var s=class o{static create(r,e,n,t){try{return Array.isArray(e)?e.map(i=>o.createSingle(r,i,n,t)):o.createSingle(r,e,n,t)}catch(i){return console.error("[Marker.create] \u041E\u0448\u0438\u0431\u043A\u0430 \u043F\u0440\u0438 \u0441\u043E\u0437\u0434\u0430\u043D\u0438\u0438 \u043C\u0430\u0440\u043A\u0435\u0440\u0430:",i),null}}static createSingle(r,e,n,t={}){return mp.markers.new(r,e,n,{direction:t.direction??new mp.Vector3(0,0,0),rotation:t.rotation??new mp.Vector3(0,0,0),color:t.color??[255,255,255,255],visible:t.visible??!0,dimension:t.dimension??0})}};var g={events:{on:a.on,off:a.off,emit:a.emit},blip:{create:c.create},marker:{create:s.create}};export{g as essentials};
