var a=class{static on(e,r){if(typeof e=="string"&&r){console.log(`[Event.on] \u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043E\u0432\u0430\u043D\u043E \u0441\u043E\u0431\u044B\u0442\u0438\u0435: ${e}`),mp.events.add(e,(n,...t)=>{typeof n=="object"&&"name"in n?r(n,...t):r(...t)});return}if(typeof e=="object"&&!Array.isArray(e)){let n=Object.keys(e);if(n.length<=1)throw new Error("\u0415\u0441\u043B\u0438 \u043F\u0435\u0440\u0435\u0434\u0430\u043D \u043E\u0431\u044A\u0435\u043A\u0442, \u043E\u043D \u0434\u043E\u043B\u0436\u0435\u043D \u0441\u043E\u0434\u0435\u0440\u0436\u0430\u0442\u044C \u0431\u043E\u043B\u0435\u0435 \u043E\u0434\u043D\u043E\u0433\u043E \u0441\u043E\u0431\u044B\u0442\u0438\u044F.");n.forEach(t=>{console.log(`[Event.on] \u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043E\u0432\u0430\u043D\u043E \u0441\u043E\u0431\u044B\u0442\u0438\u0435: ${t}`),mp.events.add(t,(i,...l)=>{let c=e[t];typeof i=="object"&&"name"in i?c(i,...l):c(...l)})});return}throw new Error("\u041D\u0435\u0432\u0435\u0440\u043D\u044B\u0439 \u0444\u043E\u0440\u043C\u0430\u0442 \u0434\u0430\u043D\u043D\u044B\u0445. \u041B\u0438\u0431\u043E \u043F\u0435\u0440\u0435\u0434\u0430\u0439\u0442\u0435 \u0441\u0442\u0440\u043E\u043A\u0443 \u0441 \u043E\u0431\u0440\u0430\u0431\u043E\u0442\u0447\u0438\u043A\u043E\u043C, \u043B\u0438\u0431\u043E \u043E\u0431\u044A\u0435\u043A\u0442 \u0441 \u043D\u0435\u0441\u043A\u043E\u043B\u044C\u043A\u0438\u043C\u0438 \u0441\u043E\u0431\u044B\u0442\u0438\u044F\u043C\u0438.")}static off(e,r){mp.events.remove(e,r)}static emit(e,r=[],n={}){n.log===!0&&(typeof mp<"u"&&mp.events?mp&&mp.console?mp.console.logInfo(`[Event.emit] \u0412\u044B\u0437\u043E\u0432 \u0441\u043E\u0431\u044B\u0442\u0438\u044F "${e}" \u0441 \u0430\u0440\u0433\u0443\u043C\u0435\u043D\u0442\u0430\u043C\u0438: ${r}`):console.log(`[Event.emit] \u0412\u044B\u0437\u043E\u0432 \u0441\u043E\u0431\u044B\u0442\u0438\u044F "${e}" \u0441 \u0430\u0440\u0433\u0443\u043C\u0435\u043D\u0442\u0430\u043C\u0438: ${r}`):console.log("[Event.emit] \u041D\u0435 \u0443\u0434\u0430\u043B\u043E\u0441\u044C \u043B\u043E\u0433\u0438\u0440\u043E\u0432\u0430\u0442\u044C \u0441\u043E\u0431\u044B\u0442\u0438\u0435, \u043E\u043A\u0440\u0443\u0436\u0435\u043D\u0438\u0435 \u043D\u0435 \u043E\u043F\u0440\u0435\u0434\u0435\u043B\u0435\u043D\u043E")),typeof mp<"u"&&mp.events?typeof mp.events.callRemote=="function"?mp.events.callRemote(e,...r):typeof mp.events.call=="function"?mp.events.call(e,...r):mp.console.logError(`[Event.emit] \u041D\u0435 \u0443\u0434\u0430\u043B\u043E\u0441\u044C \u0432\u044B\u0437\u0432\u0430\u0442\u044C \u0441\u043E\u0431\u044B\u0442\u0438\u0435 "${e}": mp.events.call \u0438\u043B\u0438 callRemote \u043D\u0435 \u043E\u043F\u0440\u0435\u0434\u0435\u043B\u0435\u043D\u044B`):mp.console.logError(`[Event.emit] \u041D\u0435 \u0443\u0434\u0430\u043B\u043E\u0441\u044C \u0432\u044B\u0437\u0432\u0430\u0442\u044C \u0441\u043E\u0431\u044B\u0442\u0438\u0435 "${e}": mp \u043D\u0435 \u043E\u043F\u0440\u0435\u0434\u0435\u043B\u0451\u043D`)}};var s=class o{static create(e,r,n){try{return Array.isArray(r)?r.map(t=>o.createSingle(e,t,n)):o.createSingle(e,r,n)}catch(t){return console.error("[Blip.create] \u041E\u0448\u0438\u0431\u043A\u0430 \u043F\u0440\u0438 \u0441\u043E\u0437\u0434\u0430\u043D\u0438\u0438 \u043C\u0435\u0442\u043A\u0438:",t),null}}static createSingle(e,r,n={}){let t=mp.blips.new(e,new mp.Vector3(r.x,r.y,r.z),{name:n.name??"",scale:n.scale??1,color:n.color??0,alpha:n.alpha??255,drawDistance:n.drawDistance??100,shortRange:n.shortRange??!1,rotation:n.rotation??0,dimension:n.dimension??0});return n.animation&&o.applyAnimation(t,n.animation),t}static applyAnimation(e,r){r.type==="blink"&&o.blinkAnimation(e,r.blinkDuration)}static blinkAnimation(e,r){let n=typeof mp<"u"&&typeof mp.game<"u",t=Date.now();setInterval(()=>{let i=Date.now()-t,l=i%r/r,c=255*(.5+.5*Math.sin(l*Math.PI*2)),p=Math.floor(Math.max(50,Math.min(c,255)));n&&e.handle?mp.game.ui.setBlipAlpha(e.handle,p):e.alpha=p,i>=r&&(t=Date.now())},16)}};var m=class o{static create(e,r,n,t){try{return Array.isArray(r)?r.map(i=>o.createSingle(e,i,n,t)):o.createSingle(e,r,n,t)}catch(i){return console.error("[Marker.create] \u041E\u0448\u0438\u0431\u043A\u0430 \u043F\u0440\u0438 \u0441\u043E\u0437\u0434\u0430\u043D\u0438\u0438 \u043C\u0430\u0440\u043A\u0435\u0440\u0430:",i),null}}static createSingle(e,r,n,t={}){return mp.markers.new(e,r,n,{direction:t.direction??new mp.Vector3(0,0,0),rotation:t.rotation??new mp.Vector3(0,0,0),color:t.color??[255,255,255,255],visible:t.visible??!0,dimension:t.dimension??0})}};var v={events:{on:a.on,off:a.off,emit:a.emit},blip:{create:s.create},marker:{create:m.create}};export{v as essentials};
